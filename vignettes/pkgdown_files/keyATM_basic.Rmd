---
title: "keyATM Basic"
output: 
  html_document:
    toc: true
---

## Preparing documents
Please read [Preparation](Preparation.html) for the three data types that **keyATM** can read.

## Keywords

We set four keyword-topics. Keywrods should be stored in a list. Each element in the list is a character vector, which corresponds to a single keyword-topic.
```{r, eval=F, warning=FALSE, message=FALSE, fig.align='center'}
bills_keywords <- list(
                       Education = c("education", "child", "student"),
                             Law = c("court", "law", "attorney"),
                           Health = c("public", "health", "program"),
                             Drug = c("drug", "treatment")
                      )
```


## Reading documents
Before fitting the model, we need to read texts and keywords into **keyATM**. Here we use **quanteda**'s `dfm`.


```{r, eval=F, warning=FALSE, message=FALSE, fig.align='center'}
library(keyATM)
keyATM_docs <- keyATM_read(bills_dfm)
```


## Checking keywords
Before you fit the model, please make sure your keywords appear enough in your corpus. [FAQ](FAQ.html#how-to-select-keywords) explains what could be good keywords.
```{r, eval=F, warning=FALSE, message=FALSE, fig.align='center'}
visualize_keywords(keyATM_docs, bills_keywords)
```



## Fitting the model
```{r, eval=FALSE, warning=FALSE, message=FALSE, fig.align='center'}
out <- keyATM_fit(keyATM_docs = keyATM_docs,  # text input
                  regular_k=3,  # number of regular topics
                  keywords=bills_keywords,  # keywords
                  model="basic",  # select the model
                  options=list(seed=100))
```
The default number of iterations is `1500`. Please check [this page](Options.html) for available options.


## Saving the model

Once you fit the model, you can save the model with `save()` for replication.
```{r, eval=F, warning=FALSE, message=FALSE, fig.align='center'}
save(out, file="SAVENAME.rds")
```

To load the model, you can use `load()` function.
```{r, eval=F, warning=FALSE, message=FALSE, fig.align='center'}
out <- load(file="SAVENAME.rds")
```

## Checking top words
```{r, eval=FALSE, warning=FALSE, message=FALSE, fig.align='center'}
top_words(out)
```


