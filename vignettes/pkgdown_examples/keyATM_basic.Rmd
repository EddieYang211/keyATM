---
title: "keyATM Basic"
output: 
  html_document:
    toc: true
---

## Preparing documents
Please read [Preparation](Preparation.html) for the three data types that **keyATM** can read.

## Keywords

We set four keyword-topics. Keywrods should be stored in a list. Each element in the list is a character vector, which corresponds to a single keyword-topic.
```{r, eval=F, warning=FALSE, message=FALSE, fig.align='center'}
keywords_ext <- list(
                      c("education", "child", "student"),  # Education
                      c("court", "law", "attorney"),  # Law
                      c("public", "health", "program"),  # Health
                      c("drug", "treatment")  # Drug
                    )
```


## Creating a model object
Before fitting the model, we need to read texts and keywords into **keyATM**. Here we use **quanteda**'s `dfm`.


```{r, eval=F, warning=FALSE, message=FALSE, fig.align='center'}
library(keyATM)
model <- keyATM_read(texts = bills_dfm,  # text input
                     regular_k=3,  # number of regular topics
                     keywords=bills_keywords,  # keywords
                     mode="basic",  # select the model
                     options=list(seed=100))
```

If you want to know more about `options`, please read [Guidelines](Guidlines.html#what-is-the-options-argument).


## Checking keywords
**WE WILL MAKE A `visualize_keywords()` FUNCION LATER**

Before you fit the model, please make sure your keywords appear enough in your corpus. [Guidelines](Guidlines.html#how-to-select-keywords) explains what could be good keywords.
```{r, eval=F, warning=FALSE, message=FALSE, fig.align='center'}
model$visualize_keywords
```



## Fit the model
```{r, eval=FALSE, warning=FALSE, message=FALSE, fig.align='center'}
fitted <- keyATM_fit(model, iteration=1000)
out <- keyATM_output(fitted)
```

## Save the model

Once you fit the model, you can save the model with `saveRDS()` for replication.
```{r, warning=FALSE, message=FALSE, fig.align='center'}

```

To load the model, you can use `readRDS()` function.
```{r, warning=FALSE, message=FALSE, fig.align='center'}

```

## Check top words
```{r, eval=FALSE, warning=FALSE, message=FALSE, fig.align='center'}
top_words(out)
```


